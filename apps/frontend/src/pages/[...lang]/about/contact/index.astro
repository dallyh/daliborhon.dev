---
import * as m from "$messages";
import Loader from "@components/astro/global/Loader.astro";
import Section from "@components/astro/global/Section.astro";
import SocialLinks from "@components/astro/home/SocialLinks.astro";
import ContactForm from "@components/react/ContactForm/ContactForm";
import type { AllowedLocales } from "@daliborhon.dev/shared/frontend/i18n";
import PageLayout from "@layouts/PageLayout.astro";

export { getStaticPaths } from "@i18n/utils";

const locale = Astro.currentLocale as AllowedLocales;

const layoutProps = {
    title: m.contact__leave_message_title(),
};
---

<PageLayout {...layoutProps}>
    <Section isFirstSection sectionTitle={m.common__contact()} id="contact">
        <Section sectionTitle={m.common__social_links_title()} sectionDescription={m.contact__contact_me_social()} id="contactSocial">
            <div class="socials-container">
                <SocialLinks />
            </div>
        </Section>
        <Section sectionTitle={m.contact__leave_message_title()} sectionDescription={m.contact__contact_me_form()} id="contact">
            <ContactForm locale={locale} client:load>
                <Loader slot="loader" standalone />
            </ContactForm>
        </Section>
    </Section>
</PageLayout>

<style>
    .socials-container {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    .social-list {
        font-size: 1.2rem;
        line-height: 1.2rem;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;

        a {
            display: inline-flex;
            gap: 0.5rem;

            i {
                color: var(--body-color);
            }
        }
    }
</style>
