---
import * as m from "@daliborhon.dev/integrations/astro-i18n/messages";
import BreadCrumbsItem from "@components/astro/global/BreadCrumbsItem.astro";
import ExternalLink from "@components/astro/global/ExternalLink.astro";
import Section from "@components/astro/global/Section.astro";
import PageViewsComponent from "@components/react/PageViews/PageViews";
import type { AllowedLocales } from "@daliborhon.dev/integrations/astro-i18n";
import PageLayout from "@layouts/PageLayout.astro";

export { getStaticPaths } from "@daliborhon.dev/integrations/astro-i18n";

const locale = Astro.currentLocale as AllowedLocales;
---

<PageLayout title={m.common__page_views()} description={m.common__page_views()} showCrumbs>
	<Fragment slot="crumbs">
		<BreadCrumbsItem currentPage label="Analytics" />
	</Fragment>
	<Section sectionTitle={m.common__page_views()} isFirstSection id="pageViews">
		<PageViewsComponent locale={locale} client:load transition:persist />
	</Section>
	<footer class="footer footer-center">
		<div>
			<p class="text-sm">
				{m.analytics__credits()}
				<ExternalLink title="Thomas Ledoux" href="https://www.thomasledoux.be/blog/basic-analytics-vercel-postgres-astro">Thomas Ledoux!</ExternalLink>
			</p>
		</div>
	</footer>
</PageLayout>
