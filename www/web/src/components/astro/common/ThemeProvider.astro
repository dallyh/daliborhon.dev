<script is:inline>
	// Itentionally inline to prevent FOUC
	const storageKey = "theme-preference";
	window.themeStorageKey = storageKey;

	function setTheme(doc) {
		const storedTheme = typeof localStorage !== "undefined" && localStorage.getItem(storageKey);
		const theme = storedTheme || (window.matchMedia("(prefers-color-scheme: light)").matches ? "light" : "dark");
		doc.documentElement.dataset.theme = theme === "light" ? "light" : "dark";
	}

	setTheme(document);
</script>
