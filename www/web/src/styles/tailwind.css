@import "tailwindcss" source("../../src/");
@plugin "daisyui" {
	themes: all;
}

@plugin "daisyui/theme" {
	name: "dracula-dark";
	default: false;
	prefersdark: false;
	color-scheme: "dark";
	--color-base-100: oklch(28.822% 0.022 277.508);
	--color-base-200: oklch(26.805% 0.02 277.508);
	--color-base-300: oklch(24.787% 0.019 277.508);
	--color-base-content: oklch(97.747% 0.007 106.545);
	--color-primary: oklch(87% 0.169 91.605);
	--color-primary-content: oklch(15.092% 0.036 346.812);
	--color-secondary: oklch(74.202% 0.148 301.883);
	--color-secondary-content: oklch(14.84% 0.029 301.883);
	--color-accent: oklch(83.392% 0.124 66.558);
	--color-accent-content: oklch(16.678% 0.024 66.558);
	--color-neutral: oklch(39.445% 0.032 275.524);
	--color-neutral-content: oklch(87.889% 0.006 275.524);
	--color-info: oklch(88.263% 0.093 212.846);
	--color-info-content: oklch(17.652% 0.018 212.846);
	--color-success: oklch(87.099% 0.219 148.024);
	--color-success-content: oklch(17.419% 0.043 148.024);
	--color-warning: oklch(95.533% 0.134 112.757);
	--color-warning-content: oklch(19.106% 0.026 112.757);
	--color-error: oklch(68.22% 0.206 24.43);
	--color-error-content: oklch(13.644% 0.041 24.43);
	--radius-selector: 1rem;
	--radius-field: 0.5rem;
	--radius-box: 1rem;
	--size-selector: 0.25rem;
	--size-field: 0.25rem;
	--border: 1px;
	--depth: 0;
	--noise: 0;
}

@plugin "daisyui/theme" {
	name: "dracula-light";
	default: false;
	prefersdark: false;
	color-scheme: "light";
	/* Base background becomes very light and neutral */
	--color-base-100: oklch(98% 0.005 260);
	--color-base-200: oklch(96% 0.005 260);
	--color-base-300: oklch(94% 0.005 260);
	/* Base content (text) is now dark for readability */
	--color-base-content: oklch(15% 0.005 260);
	/* Primary color is darkened to provide contrast on light backgrounds */
	--color-primary: oklch(40% 0.169 91.605);
	--color-primary-content: oklch(95% 0.036 346.812);
	/* Secondary is similarly adjusted */
	--color-secondary: oklch(35% 0.148 301.883);
	--color-secondary-content: oklch(97% 0.029 301.883);
	/* Accent colors follow the same pattern */
	--color-accent: oklch(45% 0.124 66.558);
	--color-accent-content: oklch(95% 0.024 66.558);
	/* Neutral colors are lightened for the background with dark content */
	--color-neutral: oklch(60% 0.032 275.524);
	--color-neutral-content: oklch(20% 0.006 275.524);
	/* Informational, success, warning, and error colors are inverted as well */
	--color-info: oklch(50% 0.093 212.846);
	--color-info-content: oklch(98% 0.018 212.846);
	--color-success: oklch(50% 0.219 148.024);
	--color-success-content: oklch(98% 0.043 148.024);
	--color-warning: oklch(60% 0.134 112.757);
	--color-warning-content: oklch(98% 0.026 112.757);
	--color-error: oklch(40% 0.206 24.43);
	--color-error-content: oklch(98% 0.041 24.43);
	/* Other properties remain the same */
	--radius-selector: 1rem;
	--radius-field: 0.5rem;
	--radius-box: 1rem;
	--size-selector: 0.25rem;
	--size-field: 0.25rem;
	--border: 1px;
	--depth: 0;
	--noise: 0;
}

@plugin "daisyui/theme" {
	name: "hacker";
	default: false;
	prefersdark: false;
	color-scheme: "dark";
	--color-base-100: oklch(0% 0 0);
	--color-base-200: oklch(19% 0 0);
	--color-base-300: oklch(22% 0 0);
	--color-base-content: oklch(87.609% 0 0);
	--color-primary: oklch(87.29% 0.2515 147.43);
	--color-primary-content: oklch(12% 0.042 264.695);
	--color-secondary: oklch(35% 0 0);
	--color-secondary-content: oklch(100% 0 0);
	--color-accent: oklch(35% 0 0);
	--color-accent-content: oklch(100% 0 0);
	--color-neutral: oklch(35% 0 0);
	--color-neutral-content: oklch(100% 0 0);
	--color-info: oklch(54% 0.245 262.881);
	--color-info-content: oklch(98% 0.003 247.858);
	--color-success: oklch(79% 0.209 151.711);
	--color-success-content: oklch(12% 0.042 264.695);
	--color-warning: oklch(90% 0.182 98.111);
	--color-warning-content: oklch(19.359% 0.042 109.769);
	--color-error: oklch(80% 0.114 19.571);
	--color-error-content: oklch(12% 0.042 264.695);
	--radius-selector: 0rem;
	--radius-field: 0rem;
	--radius-box: 0rem;
	--size-selector: 0.3125rem;
	--size-field: 0.25rem;
	--border: 1px;
	--depth: 0;
	--noise: 0;
}

@plugin "@tailwindcss/typography";

@theme {
	--default-font-family: "Nunito Variable", var(--font-sans);
	--default-mono-font-family: var(--font-mono);
}

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

@layer components {
	article-toc {
		toc-item.active {
			background-color: color-mix(in oklab, var(--color-base-content) 10%, transparent);
			outline-style: none;
			box-shadow:
				0 1px oklch(0% 0 0 / 0.01) inset,
				0 -1px oklch(100% 0 0 / 0.01) inset;
		}
	}
}

@layer utilities {
	h1 {
		@apply text-4xl;
		@apply font-bold;
	}

	h2 {
		@apply text-3xl;
		@apply font-bold;
	}

	h3 {
		@apply text-2xl;
		@apply font-bold;
	}

	h4 {
		@apply text-xl;
		@apply font-bold;
	}

	h5 {
		@apply text-lg;
		@apply font-bold;
	}

	h6 {
		@apply font-bold;
	}

	.btn.btn-outline {
		position: relative;
		background-color: var(--color-base-100);

		&::after {
			position: absolute;
			bottom: -0.25rem;
			right: -0.25rem;
			z-index: -1;
			content: "";
			width: 100%;
			height: 100%;
			background-color: var(--btn-color);
		}
	}

	.validator {
		&.invalid,
		&:has(.invalid) {
			--input-color: var(--color-error);
		}
	}

	.validator {
		&.invalid,
		&:has(.invalid) {
			& ~ .validator-hint {
				visibility: visible;
				display: block;
				color: var(--color-error);
			}
		}
	}

	.validator {
		&.valid,
		&:has(.valid) {
			--input-color: var(--color-success);
		}
	}

	.menu {
		.dropdown-content {
			margin-top: 0; /* Fixes hoverable dropdowns, introduced somewhere between daisyUI betas */
		}
	}

	.md-content :is(h1, h2, h3, h4, h5, h6) {
		width: max-content;
	}

	.md-content :is(h1, h2, h3, h4, h5, h6):has(.heading-link-icon) {
		@apply flex gap-2;
		transform: translateX(-2rem);
		transition: transform ease 300ms;

		a {
			@apply mt-1 flex justify-center;
			opacity: 0;
			visibility: hidden;
			transition: opacity ease 300ms;

			.heading-link-icon {
				@apply btn btn-soft btn-primary btn-xs;

				i {
					float: left;
					text-decoration: none;
					position: relative;
					font-size: 0.5rem;
				}
			}
		}

		&:hover {
			transform: translateX(0rem);
			a {
				opacity: 1;
				visibility: visible;
			}
		}
	}

	.prose :not(.expressive-code) code:not(a code),
	.prose a:has(> code) {
		padding: 0.125rem 0.375rem;
		font-weight: 400;
		@apply bg-base-300 text-sm;

		&::before {
			content: unset;
		}

		&::after {
			content: unset;
		}
	}

	.prose a:has(code) {
		padding: 0.125rem 0.375rem;
		@apply bg-base-300;

		code {
			font-weight: 400;
			@apply text-sm;

			&::before {
				content: unset;
			}

			&::after {
				content: unset;
			}
		}
	}

	.has-icon {
		svg {
			@apply inline-block align-middle;
		}

		&.icon-inline {
			svg {
				@apply mb-1 h-5 w-5;
			}
		}

		&.icon-no-fix {
			svg {
				margin-bottom: unset;
			}
		}

		&.icon-left {
			svg {
				@apply mr-1;
			}
		}

		&.icon-right {
			svg {
				@apply ml-1;
			}
		}
	}
}
